<!DOCTYPE html>
<html lang="en">
  <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Product Manager</title>

	<!-- Bootstrap -->
	<link href="{{ @CDN.bootstrap_css }}" rel="stylesheet">
	<link href="{{ @BASE }}/admin/styles.css" rel="stylesheet">
	<link href="{{@BASE}}/admin/product-manager/style.css" rel="stylesheet">

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
  </head>
  <body>
	
	<h1><img height="100%" id="webworks_logo" alt="Web Works CMS" src="{{ @BASE }}/admin/logo_sm.png"><button id="closeflyout">X</button></h1>
	
	<a class="webworkscms_button" href="{{@BASE}}/admin/{{@name}}/manage-product?product={{@GET.product}}">Go Back</a>

	<div class="container" style="margin-bottom: 80px;">
		
		<div class="col-xs-12" style="margin-top:30px;">

			<switch expr="{{@GET.alert}}">
				<case value="0">
					<div class="alert">Product Duplicated</div>
				</case>
				<case value="1">
					<div class="alert">Product updated</div>
				</case>
			</switch>

			<check if="{{@GET.alert}}">

			</check>

			<form method="post" action="{{@BASE}}/admin/{{@name}}/edit-product" id="edit-product" enctype="multipart/form-data">

				<div class="form-group">
					<label for="productname">Product name</label>
					<input value="{{@product->product_name}}" type="text" class="form-control" id="productname" name="product_name">
				</div>

				<div class="form-group">
					<label for="price">Product price</label>
					<input value="{{@product->product_price}}" type="text" class="form-control" id="price" name="product_price">
				</div>

				<div class="form-group">
					<label for="description">Product description</label>
					<textarea rows="8" class="form-control myckeditor" name="product_description" id="description-ckeditor">{{@product->product_description}}</textarea>
				</div>

				<div class="form-group">
					<label for="product">Primary Image</label>
					<img src="{{@BASE}}/{{@product.primary_image_thumb}}" class="img-fluid product-image">
					<input style="margin-top: 10px;" name="product_primary_image" type="file" class="form-control">
					<small class="form-text text-muted">Current image will be replaced if a file is selected</small>
				</div>

				<div class="form-group">
					<input type="hidden" name="product" value="{{@GET.product}}">
					<button class="webworkscms_button btn-fullwidth">Update Product</button>
				</div>
			</form>

		</div>
	</div>

	<script src="{{ @CDN.jquery }}"></script>
	<script src="{{@BASE}}/admin/dashboard/script.js"></script>
	<script src="{{@BASE}}/admin/product-manager/script.js"></script>
	<script src="{{ @CDN.ckeditor }}"></script>
	
	<script>
		var config = {
			fontSize_sizes : '8/8px;10/10px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;30/30px;32/32px;34/34px;36/36px;38/38px;40/40px;42/42px;44/44px;46/46px;48/48px;50/50px;52/52px;54/54px;56/56px;58/58px;60/60px;62/62px;64/64px;68/68px;70/70px;',
			removeButtons : 'Image,Inlinesave,Save,NewPage,Preview,Print,Templates,Cut,Copy,Paste,PasteText,PasteFromWord,Find,Replace,SelectAll,Form,Checkbox,Radio,TextField,Textarea,Select,Button,ImageButton,HiddenField,Strike,Subscript,Superscript,Outdent,Indent,Blockquote,CreateDiv,BidiLtr,BidiRtl,Language,Anchor,Flash,HorizontalRule,SpecialChar,Smiley,PageBreak,Iframe,Styles,Format,Maximize,ShowBlocks,About',
			removePlugins : 'ckeditor-gwf-plugin,inlinesave,source,elementspath',
			extraPlugins : "sourcedialog,colorbutton,colordialog,font,justify,contextmenu",
			title : '',
			enterMode : CKEDITOR.ENTER_BR,
			allowedContent : true,
			disableNativeSpellChecker: true,
			toolbarGroups : 
			[
				{ name: 'clipboard', groups: [ 'clipboard', 'undo' ] },
				{ name: 'forms', groups: [ 'forms' ] },
				{ name: 'links', groups: [ 'links' ] },
				{ name: 'insert', groups: [ 'insert' ] },
				{ name: 'paragraph', groups: [ 'list', 'indent', 'blocks', 'align', 'bidi', 'paragraph' ] },
				{ name: 'editing', groups: [ 'find', 'selection', 'editing', 'others', 'tools' ] },
				{ name: 'basicstyles', groups: [ 'basicstyles', 'cleanup' ] },
				{ name: 'colors', groups: [ 'colors' ] },
				{ name: 'styles', groups: [ 'styles' ] }
			]
		};

		var editor = CKEDITOR.replace("description-ckeditor", config);

	</script>


    <toolbar hidden />

  </body>
</html>