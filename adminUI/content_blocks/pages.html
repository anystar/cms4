<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Web Works CMS</title>

    <!-- Bootstrap -->
    <link href="{{ @BASE }}/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ @BASE }}/admin/theme" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <h1>Web Works CMS</h1>

    <div class="nav">
      <include href="navigation.html" />
    </div>

    <div class="container">
        <div class="col-xs-8">

        <h2>Content Manager</h2>

        <repeat group="{{ @pages }}" key="{{ @name}}" value="{{ @page }}">
        <h3>{{@BASE}}/{{@name}}</h3>
        <table class="table table-condensed">
          <tr>
            <th width="20%">Content Name</th>
            <th width="30%">Content Type</th>
            <th style="text-align: right;" width="40%">Tools</th>
          </tr>
        

          <repeat group="{{@page}}" value="{{@content_block}}">
          <tr>
              <td>{{@content_block.contentName}}</td>
              <td>{{@content_block.type}}</td>
              <td align="right">
                <a href="{{@BASE}}/admin/#"><button>Live Edit</button></a>
                <a href="{{@BASE}}/admin/#"><button>HTML Edit</button></a>
                <a href="{{@BASE}}/admin/#"><button>Delete</button></a>
              </td>
          </tr>
          </repeat>
          
          <form method="post" action="{{@BASE}}/admin/page/add_content">
          <tr>
              <td><input placeholder="Content Name" type="text" name="content_name"></td>
              <td>
                <input placeholder="Content Type" type="text" name="type">
                <input name="dummy_content" value="Some test content">
              </td>
              <td align="right">
                <button type="submit">Add Content Block</button>
              </td>
          </tr>
          <input type="hidden" name="page" value="{{@content_block.page}}">
          </form>

        </table>

        </repeat>
        </div>

        <div class="col-xs-4">
          <h3>Help</h3>
          <p>
            The content system is designed so you are able to edit your own content. Each page
            has a series of content blocks as shown to the left. If you navigate to your website
            you'll be able to edit each content block. You can also gain access to the
            html for finer tweaking.
          </p>
          <p>
            We have tailor made your website with a specific set of pages and associated content.
            If you want another page added or more content please free feel to contact us.
          </p>
          <p>
            If you need a page which has more dynamic content, for example a page that consist of products
            where there is an unknown quanitiy, feel free to contact us and we'll build it into your website.
          </p>
          - Alan from Web Works
        </div>

    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>