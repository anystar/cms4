<form class="contact" action="{{@contact.action}}" method="post">
    
    <repeat group="{{ @contact.form }}" value="{{ @field }}">

      <switch expr="{{@field.type}}">
        <case value="name">
          <check if="{{@field.has_error}}">
              <true>
              <div class="form-group has-error has-feedback">
                  <label for="{{@field.name}}">{{@field.label}}</label>
                  <input name="{{@field.name}}" type="text" class="form-control" placeholder="{{@field.placeholder}}" value="{{@field.value}}">
                  <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                  <span id="helpBlock" class="help-block">{{@field.error_message}}</span>
              </div>
              </true>

              <false>
              <div class="form-group">
                  <label for="{{@field.name}}">{{@field.label}}</label>
                  <input name="{{@field.name}}" type="text" class="form-control" placeholder="{{@field.placeholder}}" value="{{@field.value}}">
              </div>
              </false>
          </check>
        </case>

        <case value="text">
          <check if="{{@field.has_error}}">
              <true>
              <div class="form-group has-error has-feedback">
                  <label for="{{@field.name}}">{{@field.label}}</label>
                  <input name="{{@field.name}}" type="text" class="form-control" placeholder="{{@field.placeholder}}" value="{{@field.value}}">
                  <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                  <span id="helpBlock" class="help-block">{{@field.error_message}}</span>
              </div>
              </true>

              <false>
              <div class="form-group">
                  <label for="{{@field.name}}">{{@field.label}}</label>
                  <input name="{{@field.name}}" type="text" class="form-control" placeholder="{{@field.placeholder}}" value="{{@field.value}}">
              </div>
              </false>
          </check>
        </case>

        <case value="number">
          <check if="{{@field.has_error}}">
              <true>
              <div class="form-group has-error has-feedback">
                  <label for="{{@field.name}}">{{@field.label}}</label>
                  <input name="{{@field.name}}" type="text" class="form-control" placeholder="{{@field.placeholder}}" value="{{@field.value}}">
                  <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                  <span id="helpBlock" class="help-block">{{@field.error_message}}</span>
              </div>
              </true>

              <false>
              <div class="form-group">
                  <label for="{{@field.name}}">{{@field.label}}</label>
                  <input name="{{@field.name}}" type="text" class="form-control" placeholder="{{@field.placeholder}}" value="{{@field.value}}">
              </div>
              </false>
          </check>
        </case>

        <case value="email">
            <check if="{{@field.has_error}}">
              <true>
              <div class="form-group has-error has-feedback">
                  <label for="{{@field.name}}">{{@field.label}}</label>
                  <input name="{{@field.name}}" type="text" class="form-control" placeholder="{{@field.placeholder}}" value="{{@field.value}}">
                  <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                  <span id="helpBlock" class="help-block">{{@field.error_message}}</span>
              </div>
              </true>

              <false>
              <div class="form-group">
                  <label for="{{@field.name}}">{{@field.label}}</label>
                  <input name="{{@field.name}}" type="text" class="form-control" placeholder="{{@field.placeholder}}" value="{{@field.value}}">
              </div>
              </false>
            </check>
        </case>

        <case value="textarea">
          <check if="{{@field.has_error}}">
            <true>
            <div class="form-group has-error has-feedback">
                <label for="{{@field.name}}">{{@field.label}}</label>
                <textarea name="{{@field.name}}" class="form-control" rows="5">{{@field.value}}</textarea>
                <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                <span id="helpBlock" class="help-block">{{@field.error_message}}</span>
            </div>
            </true>

            <false>              
            <div class="form-group">
                <label for="{{@field.name}}">{{@field.label}}</label>
                <textarea name="{{@field.name}}" class="form-control" rows="5">{{@field.value}}</textarea>
            </div>
            </false>
          </check>
        </case>

        <case value="select">
            <div class="form-group">
                <label for="{{@field.name}}">{{@field.label}}</label>
                <select class="form-control" name="{{@field.name}}">
                  <repeat group="{{@field.options}}" value="{{@option}}">
                    <check if="{{@option==@field.value}}">
                      <true><option selected value="{{@option}}">{{@option}}</option></true>
                      <false><option value="{{@option}}">{{@option}}</option></false>
                    </check>
                  </repeat>
                </select>
            </div>
        </case>

      </switch>
    </repeat>                
    
    <check if="{{@contact.captcha_error==1}}">
      <true>
      <div class="input-group has-error" style="margin-bottom:15px;">
        <div class="input-group-addon"><img src="{{@BASE}}/{{@namespace}}/captcha" alt="captcha" /></div>
        <input name="captcha" style="height: 50px" type="text" class="form-control" placeholder="Are you human?">
        <span class="glyphicon glyphicon-remove form-control-feedback"></span>
      </div>
      <div id="helpBlock" style="color: #a94442;" class="help-block">Please check captcha.</div>
      </true>

      <false>
      <div class="input-group" style="margin-bottom:15px;">
        <div class="input-group-addon"><img src="{{@BASE}}/{{@namespace}}/captcha" alt="captcha" /></div>
        <input name="captcha" style="height: 50px" type="text" class="form-control" placeholder="Are you human?">
      </div>
      </false>
    </check>
    
    <input type="hidden" name="actionid" value="{{@contact.actionid}}">

    <button type="submit" class="btn btn-default">Submit</button>

</form>