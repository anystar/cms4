<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>Web Works CMS</title>
	
	    <link href="{{ @SETTINGS.cdn.cms }}/admin/css/bootstrap.min.css" rel="stylesheet">
	    <link href="{{ @SETTINGS.cdn.cms }}/admin/css/main.css" rel="stylesheet">

		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>
	<body>
		<h1><img src="{{ @SETTINGS.cdn.cms }}/admin/imgs/logo.png" alt="Web Works CMS Login"></h1>

		<div class="nav top_nav">
			<include href="/admin/navigation.html" with="{{nav_active_contact_form=active}}" />
		</div>
	
		<div class="container">

				<include href="admin/toolbar.html">

				<div class="row">
					<div class="col-md-6">
<div class="box">
<h2>Quick use</h2>

<p>
	Place the template variable <ignore><var>{{@contact.html}}</var></ignore> where you want the contact form to display.
</p>
<p>
	Ensure the <var>contact_success.html</var> form exsists in the root directoy.
</p>
</div>

<div class="box">
	<h2>How the module works</h2>
	<p>
		This module builds a fully functional contact form which can be rendered and submitted. To do this it requires
		a bit of setup. Although everything is provided by default it is desirable to create and customize some parts  
		for a more seamless experience.
	</p>
	
	<h3>Template Code</h3>
	<p>
		Template code is required to be placed on the designated page (defaults to /contact). This
		code generates the form with a captcha. One may use <ignore><var>{{@contact.html}}</var></ignore>
		which will generate generic html.
	</p>
	<p>
		If an error occures because the form has not been filled out correctly the page will be reloaded
		and error messages can be displayed. These are placed through the templating code as well with
		conditional statements.
	</p>

	<h3>Email template</h3>
	<p>
		After a user submits the contact form an email template will be used to generate what will be
		sent to the user. This email template reuses the contact form template variables. The email template
		is simply a text or html file located in the root directory named "email_template.html" for example.
	</p>
	<p>
		If an email template is not create a generic email template will be used.
	</p>

	<h3>Contact success page</h3>
	<p>
		After the email has been successfully submitted and an email sent the module will return the user
		to a contact success page. This is a html page located in the user directory and by default is
		called "contact_success.html".
	</p>
	<p>
		When installing the module a contact_success.html file is created. This is a generic html file
		and can be replaced by anything else more suited to the design of the website.
	</p>


</div>

<div class="box">
<h2>Advanced use</h2>

If you need more control you can build the html yourself with the template code.
<br><br>
Keep in mind that the module implements the ability to customise the fields, create and delete
fields and handle errors. This will require a repeat statement to iteratate and display the fields.
It will require a switch statement to display the correct type of field and will require an if statement
to handle error messaging.
<br><br>
For example:

<pre><ignore>
..
</ignore></pre>

</div>
					</div>

					<div class="col-md-6">
						<div class="box">
							<h2>Template code</h2>
						
							<div class="table-responsive">
								<table class="table table-striped table-bordered">
									<thead>
										<th width="230">Template Variable</th>
										<th>Example</th>
									</thead>
									<tbody>
										<tr>
											<td><ignore><var>{{@contact.html}}</var></ignore></td>
											<td>Contains compiled html markup of contact form</td>
										</tr>
										<tr>
											<td><ignore><var>{{@contact.form}}</var></ignore></td>
											<td>An array of form fields</td>
										</tr>
										<tr>
											<td><ignore><var>{{@contact.form[ i ].id}}</var></ignore></td>
											<td>...</td>
										</tr>
										<tr>
											<td><ignore><var>{{@contact.form[ i ].label}}</var></ignore></td>
											<td></td>
										</tr>
										<tr>
											<td><ignore><var>{{@contact.form[ i ].value}}</var></ignore></td>
											<td>Contains user inputted value. This is used when a form has been submitted with errors so we can preserve user input.</td>
										</tr>
										<tr>
											<td><ignore><var>{{@contact.form[ i ].error}}</var></ignore></td>
											<td>Contains a custom error message to display if user inputs incorrect values.</td>
										</tr>
										<tr>
											<td><ignore><var>{{@contact.form[ i ].type}}</var></ignore></td>
											<td>Contains the type of input. Use a switch statement to display a different set of html elements.</td>
										</tr>
									</tbody>
								</table>
							</div>

						</div>

<div class="box">
<h2>Folder structure</h2>
<pre>
.
├── email_template.html (or w/e file text type)
├── contact_success.html
</pre>
</div>

						<div class="box">
						<h2>Database</h2>
						<p>
							This module uses the primary database to store a single table called `contact_form`.
						</p>
						<p>
							Each row holds information for a field of the contact form. In this way we can dynamically
							build a contact form with whatever information we need.
						</p>
						</div>
					</div>
				</div>

		</div>

		<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
		<script src="{{ @SETTINGS.cdn.cms }}/admin/js/jquery.min.js"></script>
		<!-- Include all compiled plugins (below), or include individual files as needed -->
		<script src="{{ @SETTINGS.cdn.cms }}/admin/js/bootstrap.min.js"></script>
	</body>
</html>