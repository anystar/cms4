<style>

@media (max-width: 1000px) {

}

body {
    margin-bottom: 55px;
}

#webworkscms_admintoolbar {
    display: table;
    table-layout: fixed;
    width: 100%;
    position: fixed !important;
    bottom: 0 !important;
    left: 0 !important;

    height: 55px !important;

    z-index: 9999999 !important;
    text-align: left;
    padding-bottom: 1px;

    border-top: 1px solid #fff;
    outline: 1px solid #428EEB;



/* Permalink - use to edit and share this gradient: http://colorzilla.com/gradient-editor/#6db3f2+0,54a3ee+50,3690f0+51,1e69de+100&0.9+0,0.9+100 */
background: -moz-linear-gradient(top, rgba(109,179,242,0.9) 0%, rgba(84,163,238,0.9) 50%, rgba(54,144,240,0.9) 51%, rgba(30,105,222,0.9) 100%); /* FF3.6-15 */
background: -webkit-linear-gradient(top, rgba(109,179,242,0.9) 0%,rgba(84,163,238,0.9) 50%,rgba(54,144,240,0.9) 51%,rgba(30,105,222,0.9) 100%); /* Chrome10-25,Safari5.1-6 */
background: linear-gradient(to bottom, rgba(109,179,242,0.9) 0%,rgba(84,163,238,0.9) 50%,rgba(54,144,240,0.9) 51%,rgba(30,105,222,0.9) 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */
filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#e66db3f2', endColorstr='#e61e69de',GradientType=0 ); /* IE6-9 */


}

#webworkscms_admintoolbar div {
    display: table-cell;
    vertical-align: middle !important;
}

#webworkscms_admintoolbar #right_div {
    text-align: right;
    padding-right: 20px;
    width: 300px;
}

#webworkscms_admintoolbar #center_div {
    text-align: center;
}

#webworkscms_admintoolbar #left_div {
    text-align: left;
    width: 300px;
}

#webworkscms_admintoolbar .spacer {
    display: inline-block;
    width: 20px;
}

#webworkscms_admintoolbar #help_div {
    display: block;
    clear: both;
}

#webworkscms_admintoolbar .button, .editable .toolbar .button {
  font: 18px Helvetica,sans-serif;
  color: rgba(0, 0, 0, 0.8);
  text-shadow: 0 0.1em 0 rgba(255, 255, 255, 0.5);
  display: inline-block;
  outline: none;
  cursor: pointer;
  padding: 0.5em 2em 0.5em;
  -moz-border-radius: 0.3em;
  -webkit-border-radius: 0.3em;
  border-radius: 0.3em;
  border: 1px solid;
  border-color: #d5d5d5 #a2a2a2 #888888;
  background-color: #eee;
  background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4gPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJncmFkIiBncmFkaWVudFVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgeDE9IjAuNSIgeTE9IjAuMCIgeDI9IjAuNSIgeTI9IjEuMCI+PHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2VlZWVlZSIvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2Q1ZDVkNSIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JhZCkiIC8+PC9zdmc+IA==');
  background-size: 100%;
  background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #eeeeee), color-stop(100%, #d5d5d5));
  background-image: -moz-linear-gradient(#eeeeee, #d5d5d5);
  background-image: -webkit-linear-gradient(#eeeeee, #d5d5d5);
  background-image: linear-gradient(#eeeeee, #d5d5d5);
  -moz-transition: all 100ms;
  -o-transition: all 100ms;
  -webkit-transition: all 100ms;
  transition: all 100ms;
}
#webworkscms_admintoolbar .button:active, .editable .toolbar .button:active {
  border-color: #a2a2a2 #bbbbbb #eee;
  background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4gPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJncmFkIiBncmFkaWVudFVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgeDE9IjAuNSIgeTE9IjAuMCIgeDI9IjAuNSIgeTI9IjEuMCI+PHN0b3Agb2Zmc2V0PSIwJSIgc3RvcC1jb2xvcj0iI2UxZTFlMSIvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI2VlZWVlZSIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JhZCkiIC8+PC9zdmc+IA==');
  background-size: 100%;
  background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(0%, #e1e1e1), color-stop(100%, #eeeeee));
  background-image: -moz-linear-gradient(#e1e1e1, #eeeeee);
  background-image: -webkit-linear-gradient(#e1e1e1, #eeeeee);
  background-image: linear-gradient(#e1e1e1, #eeeeee);
  -moz-box-shadow: 0 0.1em 0.2em rgba(0, 0, 0, 0.1) inset, 0 0.1em 0.1em rgba(0, 0, 0, 0.2) inset, 0.05em 0 0.07em rgba(0, 0, 0, 0.2) inset, -0.05em 0 0.07em rgba(0, 0, 0, 0.2) inset;
  -webkit-box-shadow: 0 0.1em 0.2em rgba(0, 0, 0, 0.1) inset, 0 0.1em 0.1em rgba(0, 0, 0, 0.2) inset, 0.05em 0 0.07em rgba(0, 0, 0, 0.2) inset, -0.05em 0 0.07em rgba(0, 0, 0, 0.2) inset;
  box-shadow: 0 0.1em 0.2em rgba(0, 0, 0, 0.1) inset, 0 0.1em 0.1em rgba(0, 0, 0, 0.2) inset, 0.05em 0 0.07em rgba(0, 0, 0, 0.2) inset, -0.05em 0 0.07em rgba(0, 0, 0, 0.2) inset;
  -moz-transition: all 10ms;
  -o-transition: all 10ms;
  -webkit-transition: all 10ms;
  transition: all 10ms;
}


body {
    position: relative !important;
}
.editable {
    display: none;
    position: absolute !important;
/*        outline: 10px solid #3682E3 !important;
    outline-offset: -10px !important;*/
    z-index: 3000 !important;     

}
.editable .toolbar {
    display: inline-block;
    float: right;
    text-align: right;
    position: relative;

}

.editable .border {
    position: absolute !important;
    z-index: 9999 !important;
    pointer-events: none;
}

.editable .top {
    border-bottom: 10px solid #3682E3;
}

.editable .bottom {
    border-top: 10px solid #3682E3;
}

.editable .right {
    border-left: 10px solid #3682E3;
}

.editable .left {
    border-right: 10px solid #3682E3;
}

.editable .toolbar .button {
    margin-top: 15px !important;
    margin-right: 15px !important;

}


</style>
<script src="{{ @CDN }}/jquery/jquery-3.2.1.min.js"></script>
<script>
function PopupCenter(url, title, w, h) {
    // Fixes dual-screen position                         Most browsers      Firefox
    var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left;
    var dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;

    var width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;
    var height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;

    var left = ((width / 2) - (w / 2)) + dualScreenLeft;
    var top = ((height / 2) - (h / 2)) + dualScreenTop;
    var newWindow = window.open(url, title, 'scrollbars=yes, width=' + w + ', height=' + h + ', top=' + top + ', left=' + left);

    // Puts focus on the newWindow
    if (window.focus) {
        newWindow.focus();
    }
}

function closeRefresh() {
  window.close();
  window.onunload = function () { window.opener.location.reload(); }
}

var cmsjQuery = jQuery.noConflict(true);

cmsjQuery(function() {

	var main_div = cmsjQuery('<div>').attr('id', 'webworkscms_admintoolbar');
	cmsjQuery('body').append(main_div);

	var left_div = cmsjQuery('<div>').attr('id', 'left_div');
	main_div.append(left_div);

	var center_div = cmsjQuery('<div>').attr('id', 'center_div');
	main_div.append(center_div);

	var right_div = cmsjQuery('<div>').attr('id', 'right_div');
	main_div.append(right_div);

  left_div.append(cmsjQuery('<img src="{{ @CDN }}/admin/imgs/logo_toolbar.png" height="100%">'));

  right_div.append(cmsjQuery('<a href="{{@BASE}}/admin/logout?previous={{@BASE}}/{{@PATH}}" class="button">Logout</a>'));


  var mouseX = 0;
  var mouseY = 0;

  cmsjQuery(".editable").append(cmsjQuery("<div class='top border'></div><div class='left border'></div><div class='right border'></div><div class='bottom border'></div>"));

  var editors = document.getElementsByClassName("editable");
  for (var i = editors.length - 1; i >= 0; i--)
  {
      cmsjQuery(editors[i]).next().addClass("cmseditable").attr("editor_id", "#"+cmsjQuery(editors[i]).attr("id"));
  }
  
  cmsjQuery(".cmseditable").mousemove(function (evt) {
      var editor = cmsjQuery(cmsjQuery(evt.currentTarget).attr("editor_id"));

      editor.width(evt.currentTarget.clientWidth);           
      editor.css({top: cmsjQuery(evt.currentTarget).position().top, left: cmsjQuery(evt.currentTarget).offset().left, height: 1});

      var top = editor.children(".top");
      editor.children(".top").width(evt.currentTarget.clientWidth).css({top: 0, left: 0});
      editor.children(".left").height(evt.currentTarget.clientHeight).css({top: 0, left: 0});
      editor.children(".bottom").width(evt.currentTarget.clientWidth).css({top: evt.currentTarget.clientHeight, left: 0});
      editor.children(".right").height(evt.currentTarget.clientHeight).css({top: 0, left: evt.currentTarget.clientWidth-10});

      editor.show();

  });

  setInterval(function () {
      var editors = document.getElementsByClassName("editable");

      for (var i = editors.length - 1; i >= 0; i--)
      {
          var nextelement = cmsjQuery(editors[i]).next();

          if (mouseY <= nextelement.position().top || mouseY >= (nextelement.height()+nextelement.position().top))
          {
              cmsjQuery(editors[i]).hide();
          }
          else if (mouseX <= nextelement.offset().left || mouseX >= (nextelement.offset().left+nextelement.width()))
              cmsjQuery(editors[i]).hide();
      }
  }, 500);

  cmsjQuery(".editable .toolbar .button").click(function (evt) {

    PopupCenter($(this).attr("href"), "Webworks CMS", "1000", "800");

    evt.preventDefault();
  });


  cmsjQuery(window).mousemove(function (evt) {
      mouseX = evt.pageX;
      mouseY = evt.pageY;
  });
});
</script>

<repeat group="{{@include}}" value="{{@code}}">
{{@code}}
</repeat>